@tailwind base;
@tailwind components;
@tailwind utilities;

/* Responsive base styles with device optimization */
@layer base {
  html {
    font-size: 18px; /* Larger base font for tablets */
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }
  
  /* Mobile optimizations */
  @media (max-width: 640px) {
    html {
      font-size: 16px; /* Standard font size for mobile */
    }
  }
  
  /* Desktop optimizations */
  @media (min-width: 1024px) {
    html {
      font-size: 16px; /* Standard font size for desktop */
    }
  }
  
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Touch-friendly button styles for tablets and mobile */
  button, .btn {
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* Desktop button optimizations */
  @media (min-width: 1024px) {
    button, .btn {
      min-height: 36px;
      min-width: 36px;
    }
  }
  
  /* Input field optimizations */
  input, select, textarea {
    min-height: 44px;
    font-size: 16px; /* Prevents zoom on iOS */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }
  
  /* Desktop input optimizations */
  @media (min-width: 1024px) {
    input, select, textarea {
      min-height: 36px;
      font-size: 14px;
    }
  }
  
  /* Mobile input optimizations */
  @media (max-width: 640px) {
    input, select, textarea {
      min-height: 48px; /* Even larger for mobile */
      font-size: 16px;
    }
  }
  
  /* Improve focus visibility */
  *:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
  }
  
  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Responsive button styles */
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md;
  }
  
  .btn-secondary {
    @apply bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-800 font-medium py-3 px-6 rounded-lg transition-all duration-200 shadow-sm hover:shadow-md;
  }
  
  /* Mobile button adjustments */
  @media (max-width: 640px) {
    .btn-primary, .btn-secondary {
      @apply py-4 px-8 text-lg;
    }
  }
  
  /* Desktop button adjustments */
  @media (min-width: 1024px) {
    .btn-primary, .btn-secondary {
      @apply py-2 px-4 text-sm;
    }
  }
  
  /* Responsive input field */
  .input-field {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200;
  }
  
  /* Mobile input adjustments */
  @media (max-width: 640px) {
    .input-field {
      @apply px-4 py-4 text-lg;
    }
  }
  
  /* Desktop input adjustments */
  @media (min-width: 1024px) {
    .input-field {
      @apply px-3 py-2 text-sm;
    }
  }
  
  /* Responsive card component */
  .card {
    @apply bg-white rounded-lg shadow-md p-6;
  }
  
  /* Mobile card adjustments */
  @media (max-width: 640px) {
    .card {
      @apply p-4 rounded-md shadow-sm;
    }
  }
  
  /* Desktop card adjustments */
  @media (min-width: 1024px) {
    .card {
      @apply p-6 rounded-xl shadow-lg;
    }
  }
  
  /* Tablet-specific optimizations */
  @media (min-width: 768px) and (max-width: 1023px) {
    .tablet-optimized {
      @apply text-lg;
    }
    
    .tablet-touch-target {
      @apply min-h-12 min-w-12;
    }
  }
  
  /* Admin interface optimizations */
  .admin-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  .admin-card {
    @apply bg-white shadow rounded-lg;
  }
  
  /* Mobile admin adjustments */
  @media (max-width: 640px) {
    .admin-container {
      @apply px-2;
    }
    
    .admin-card {
      @apply shadow-sm rounded-md;
    }
  }
  
  /* Data table responsive wrapper */
  .table-responsive {
    @apply overflow-x-auto -mx-4 sm:mx-0;
  }
  
  @media (max-width: 640px) {
    .table-responsive {
      @apply -mx-2;
    }
  }
  
  /* Loading states */
  .loading-spinner {
    @apply animate-spin rounded-full border-b-2 border-blue-600;
  }
  
  /* Error states */
  .error-message {
    @apply bg-red-50 border border-red-200 text-red-800 rounded-lg p-4;
  }
  
  /* Success states */
  .success-message {
    @apply bg-green-50 border border-green-200 text-green-800 rounded-lg p-4;
  }
  
  /* Warning states */
  .warning-message {
    @apply bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg p-4;
  }
}

/* Utility classes for device-specific optimizations */
@layer utilities {
  /* Hide scrollbars but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  
  /* Touch-friendly spacing */
  .touch-spacing {
    @apply space-y-4;
  }
  
  @media (min-width: 1024px) {
    .touch-spacing {
      @apply space-y-2;
    }
  }
  
  /* Responsive text sizing */
  .text-responsive {
    @apply text-lg;
  }
  
  @media (max-width: 640px) {
    .text-responsive {
      @apply text-base;
    }
  }
  
  @media (min-width: 1024px) {
    .text-responsive {
      @apply text-sm;
    }
  }
  
  /* Safe area padding for mobile devices */
  .safe-area-padding {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  /* Prevent text selection on UI elements */
  .no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  
  /* Improve tap targets */
  .tap-target {
    @apply min-h-11 min-w-11 flex items-center justify-center;
  }
  
  @media (max-width: 640px) {
    .tap-target {
      @apply min-h-12 min-w-12;
    }
  }
}